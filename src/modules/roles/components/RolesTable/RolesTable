const deleteRoleMutation = useDeleteRole();
const route = useRouter();

const onDelete = async (id: string) => {
  if (!confirm(ROLES_UI.CONFIRMATIONS.DELETE_ROLE)) return;

  deleteRoleMutation.mutate(id, {
    onSuccess: () => {
      toast.success(ROLES_SUCCESS.DELETE_ROLE);
      route.push("/roles");
    },
    onError: () => {
      toast.error(ROLES_ERROR.DELETE_ROLE);
    },
  });

  const columns: TableColumn<Role>[] =[{
    key: "actions"
    label: ROLES_UI.TABLE_COLUMNS.ACTIONS,
    render: (item)=>(
        <div>

        <Button
            id="delete-button"
            type="button"
            onClick={() => onDelete(item.id)}
            disabled={deleteRoleMutation.isPending}
            className="text-red-500 hover:underline disabled:opacity-50"
            >
            {deleteRoleMutation.isPending
              ? GLOBAL_UI.BUTTONS.DELETING
              : GLOBAL_UI.ACTIONS.DELETE}
        </Button>
          {deleteRoleMutation.error && (
              <p className="error text-sm">{deleteRoleMutation.error.message}</p>
            )}
    </div>
    ),
  }]
};
